document() #takes the roxygen2 documentation of the data and functions and creates help files. This is where the digest problem occurs (see fix below)
library(devtools)
library(roxygen2)
library(digest)
document() #takes the roxygen2 documentation of the data and functions and creates help files. This is where the digest problem occurs (see fix below)
?system.file
knitr::opts_chunk$set(echo = TRUE)
require(devtools)
require(readxl)
require(ggplot2)
require(gridExtra)
options(width=50, width.cutoff=50, digits = 3)
library("devtools")
knitr::opts_chunk$set(echo = TRUE)
library(ForageFishLitReview)
require(readxl)
require(ggplot2)
require(gridExtra)
options(width=50, width.cutoff=50, digits = 3)
library(ForageFishLitReview)
ExampleFilePath<-system.file("extdata","Literature_Data.xlsm",package="ForageFishLitReview")
ExampleFilePath
ff_table<-read_excel(ExampleFilePath,sheet="Example 2")
ff_table
dropdowns<-read_excel(ExampleFilePath,sheet="Do Not Edit dropdown options")
dropdowns[,21]
pressures<-c(unique(dropdowns[,21]))
dim(fftable)
dim(ff_table)
outcomes<-colnames(ff_table)[22:42]
data1<-ff_table[,which(colnames(ff_table)%in%outcomes)]
pressure_table(pressures,data1)
data1
data1<-ff_table[,which(colnames(ff_table)%in%outcomes)]
data1
outcomes<-colnames(ff_table)[22:42]
print(pressure_table(pressures,data1))
pressures
pressures<-c(unique(unlist(dropdowns[,21])))
pressures
print(pressure_table(pressures,data1))
pressure_data<-pressure_table(pressures,data1))
pressure_data<-pressure_table(pressures,data1)
?gather
library(dplyr)
?gather
library(tidyr
)
?gather
?pivot_longer
pressure_data<-pivot_longer(pressure_data,-pressure,names_to="outcome",values_to"count")
pressure_data<-pivot_longer(pressure_data,-pressure,names_to="outcome",values_to="count")
head(pressure_data)
pressure_data<-pivot_longer(pressure_data,cols=pressure,names_to="outcome",values_to="count")
pressure_data<-pivot_longer(pressure_data,cols=Pressure,names_to="outcome",values_to="count")
head(pressure_data)
View(pressure_data)
pressure_table<-function(pressures,parameter_columns){
t2<-data.frame(array(dim=c(length(pressures),length(parameter_columns))))
colnames(t2)<-colnames(parameter_columns)
for(i in 1:length(pressures)){
t2[i,]<-apply(parameter_columns,MARGIN=2,function(x){how_many_times(pressures[i],x)})
}
t2$pressure<-pressures
t2<-pivot_longer(t2,colnames(parameter_columns),names_to="outcome",values_to"count")
return(t2)
}
pressure_table<-function(pressures,parameter_columns){
t2<-data.frame(array(dim=c(length(pressures),length(parameter_columns))))
colnames(t2)<-colnames(parameter_columns)
for(i in 1:length(pressures)){
t2[i,]<-apply(parameter_columns,MARGIN=2,function(x){how_many_times(pressures[i],x)})
}
t2$pressure<-pressures
t2<-pivot_longer(t2,colnames(parameter_columns),names_to="outcome",values_to"count")
return(t2)
}
pressure_table<-function(pressures,parameter_columns){
t2<-data.frame(array(dim=c(length(pressures),length(parameter_columns))))
colnames(t2)<-colnames(parameter_columns)
for(i in 1:length(pressures)){
t2[i,]<-apply(parameter_columns,MARGIN=2,function(x){how_many_times(pressures[i],x)})
}
t2$pressure<-pressures
t2<-pivot_longer(t2,colnames(parameter_columns),names_to="outcome",values_to="count")
return(t2)
}
pressure_data<-pressure_table(pressures,data1)
pressure_data
tail(pressure_data)
sum(pressure_data$count)
sum(data1)
head(data1)
ggplot(pressure_data, aes(x=pressure, y=outcome, col = count, fill = count, label = count))
ggplot(pressure_data, aes(x=outcome, y=pressure, col = count, fill = count, label = count)) +
geom_tile() +
geom_text(col = "black") +
theme_minimal() +
scale_fill_gradient2(low = "white", mid = "yellow", high = "red") +
scale_color_gradient2(low = "white", mid = "yellow", high = "red")
ggplot(pressure_data, aes(x=outcome, y=pressure, col = count, fill = count, label = count)) +
geom_tile() +
geom_text(col = "black") +
theme_minimal() +
scale_fill_gradient2(low = "white", mid = "orange", high = "red") +
scale_color_gradient2(low = "white", mid = "orange", high = "red")
#Install the ForageFishLitReview package
install_github("rooperc4/ForageFishLitReview")
knitr::opts_chunk$set(echo = TRUE)
library(ForageFishLitReview)
require(readxl)
require(ggplot2)
require(gridExtra)
require(dplyr)
require(tidyr)
options(width=50, width.cutoff=50, digits = 3)
ggplot(pressure_data, aes(x=outcome, y=pressure, col = count, fill = count, label = count)) +
geom_tile() +
geom_text(col = "black") +
theme_minimal() +
scale_fill_gradient2(low = "white", high = "red") +
scale_color_gradient2(low = "white", high = "red")+
scale_x_discrete(position = "top")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
knitr::opts_chunk$set(echo = TRUE)
library(ForageFishLitReview)
require(readxl)
require(ggplot2)
require(gridExtra)
require(dplyr)
require(tidyr)
options(width=50, width.cutoff=50, digits = 3)
# Install and load devtools package
install.packages("devtools")
# Install and load devtools package
install.packages("devtools")
library("devtools")
install.packages("devtools")
knitr::opts_chunk$set(echo = TRUE)
library(ForageFishLitReview)
require(readxl)
require(ggplot2)
require(gridExtra)
require(dplyr)
require(tidyr)
options(width=50, width.cutoff=50, digits = 3)
library("devtools")
#Install the ForageFishLitReview package
install_github("rooperc4/ForageFishLitReview")
ggplot(pressure_data, aes(x=outcome, y=pressure, col = count, fill = count, label = count)) +
geom_tile() +
geom_text(col = "black") +
theme_minimal() +
scale_fill_gradient2(low = "white", high = "red") +
scale_color_gradient2(low = "white", high = "red")+
scale_x_discrete(position = "top")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
knitr::opts_chunk$set(echo = TRUE)
library(ForageFishLitReview)
require(readxl)
require(ggplot2)
require(gridExtra)
require(dplyr)
require(tidyr)
options(width=50, width.cutoff=50, digits = 3)
# Install and load devtools package
install.packages("devtools")
library("devtools")
#Install the ForageFishLitReview package
install_github("rooperc4/ForageFishLitReview")
library(ForageFishLitReview)
library(readxl)
ExampleFilePath<-system.file("extdata","Literature_Data.xlsm",package="ForageFishLitReview")
ff_table<-read_excel(ExampleFilePath,sheet="Example 2")
dropdowns<-read_excel(ExampleFilePath,sheet="Do Not Edit dropdown options")
pressures<-c(unique(unlist(dropdowns[,21])))
outcomes<-colnames(ff_table)[22:42]
library(ggplot2)
data1<-ff_table[,which(colnames(ff_table)%in%outcomes)]
pressure_data<-pressure_table(pressures,data1)
ggplot(pressure_data, aes(x=outcome, y=pressure, col = count, fill = count, label = count)) +
geom_tile() +
geom_text(col = "black") +
theme_minimal() +
scale_fill_gradient2(low = "white", high = "red") +
scale_color_gradient2(low = "white", high = "red")+
scale_x_discrete(position = "top")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
ggplot(pressure_data, aes(x=outcome, y=pressure, col = count, fill = count, label = count)) +
geom_tile() +
geom_text(col = "black") +
theme_minimal() +
scale_fill_gradient2(low = "white", high = "red") +
scale_color_gradient2(low = "white", high = "red")+
scale_x_discrete(position = "top")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
# Install and load devtools package
#install.packages("devtools")
library("devtools")
#Install the ForageFishLitReview package
install_github("rooperc4/ForageFishLitReview")
library(ForageFishLitReview)
library(readxl)
library(ggplot2)
ExampleFilePath<-system.file("extdata","Literature_Data.xlsm",package="ForageFishLitReview")
ff_table<-read_excel(ExampleFilePath,sheet="Example 2")
dropdowns<-read_excel(ExampleFilePath,sheet="Do Not Edit dropdown options")
pressures<-c(unique(unlist(dropdowns[,21])))
outcomes<-colnames(ff_table)[22:42]
data1<-ff_table[,which(colnames(ff_table)%in%outcomes)]
pressure_data<-pressure_table(pressures,data1)
ggplot(pressure_data, aes(x=outcome, y=pressure, col = count, fill = count, label = count)) +
geom_tile() +
geom_text(col = "black") +
theme_minimal() +
scale_fill_gradient2(low = "white", high = "red") +
scale_color_gradient2(low = "white", high = "red")+
scale_x_discrete(position = "top")+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
library(stringr)
pressure_data$xlabel1<-str_split_fixed(pressure_data$outcome, "_", 2)
pressure_data
pressure_data
pressure_data<-pressure_data[,c(1:5)]
dim(pressure_data)
pressure_data[,4]
pressure_data$xlabel1<-strsplit(pressure_data$outcome, "\\_", )
data1<-ff_table[,which(colnames(ff_table)%in%outcomes)]
pressure_data<-pressure_table(pressures,data1)
library(stringr)
pressure_data$xlabel1<-strsplit(pressure_data$outcome, "\\_", )
pressure_data
data1<-ff_table[,which(colnames(ff_table)%in%outcomes)]
pressure_data<-pressure_table(pressures,data1)
library(stringr)
pressure_data$xlabel1<-str_split_fixed(pressure_data$outcome, "_", 2)
pressure_data
